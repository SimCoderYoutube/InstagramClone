{"version":3,"sources":["helpers.tsx"],"names":["calculateLabelTopPosition","labelHeight","height","optionalPadding","customHeight","Math","floor","calculateInputHeight","minHeight","finalHeight","calculatePadding","props","multiline","result","calculateTextAreaPadding","calculateInputPadding","max","dense","topPosition","fontSize","scale","offset","isAndroid","refFontSize","min","adjustPaddingOut","pad","label","paddingTop","paddingBottom","adjustPaddingFlat","styles","topResult","bottomResult","interpolatePlaceholder","labeled","hasActiveOutline","interpolate","inputRange","outputRange","calculateFlatAffixTopPosition","affixHeight","inputHeightWithoutPadding","halfOfTheInputHeightDecreasedByAffixHeight","calculateOutlinedIconAndAffixTopPosition","labelYOffset","calculateFlatInputHorizontalPadding","adornmentConfig","paddingLeft","LABEL_PADDING_HORIZONTAL","paddingRight","forEach","type","side","AdornmentType","Icon","AdornmentSide","Left","ADORNMENT_SIZE","ADORNMENT_OFFSET","FLAT_INPUT_OFFSET","Right","Affix"],"mappings":"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","sourcesContent":["import type { Animated } from 'react-native';\nimport type { AdornmentConfig } from './Adornment/types';\nimport {\n  LABEL_PADDING_HORIZONTAL,\n  ADORNMENT_OFFSET,\n  ADORNMENT_SIZE,\n  FLAT_INPUT_OFFSET,\n} from './constants';\nimport { AdornmentType, AdornmentSide } from './Adornment/enums';\n\ntype PaddingProps = {\n  height: number | null;\n  labelHalfHeight: number;\n  multiline: boolean | null;\n  dense: boolean | null;\n  topPosition: number;\n  fontSize: number;\n  label?: string | null;\n  scale: number;\n  offset: number;\n  isAndroid: boolean;\n  styles: { paddingTop: number; paddingBottom: number };\n};\n\ntype AdjProps = PaddingProps & {\n  pad: number;\n};\n\nexport type Padding = { paddingTop: number; paddingBottom: number };\n\nexport const calculateLabelTopPosition = (\n  labelHeight: number,\n  height: number = 0,\n  optionalPadding: number = 0\n): number => {\n  const customHeight = height > 0 ? height : 0;\n\n  return Math.floor((customHeight - labelHeight) / 2 + optionalPadding);\n};\n\nexport const calculateInputHeight = (\n  labelHeight: number,\n  height: any = 0,\n  minHeight: number\n): number => {\n  const finalHeight = height > 0 ? height : labelHeight;\n\n  if (height > 0) return height;\n  return finalHeight < minHeight ? minHeight : finalHeight;\n};\n\nexport const calculatePadding = (props: PaddingProps): number => {\n  const { height, multiline = false } = props;\n\n  let result = 0;\n\n  if (multiline) {\n    if (height && multiline) {\n      result = calculateTextAreaPadding(props);\n    } else {\n      result = calculateInputPadding(props);\n    }\n  }\n\n  return Math.max(0, result);\n};\n\nconst calculateTextAreaPadding = (props: PaddingProps) => {\n  const { dense } = props;\n\n  return dense ? 10 : 20;\n};\n\nconst calculateInputPadding = ({\n  topPosition,\n  fontSize,\n  multiline,\n  scale,\n  dense,\n  offset,\n  isAndroid,\n}: PaddingProps): number => {\n  const refFontSize = scale * fontSize;\n  let result = Math.floor(topPosition / 2);\n\n  result =\n    result +\n    Math.floor((refFontSize - fontSize) / 2) -\n    (scale < 1 ? offset / 2 : 0);\n\n  if (multiline && isAndroid)\n    result = Math.min(dense ? offset / 2 : offset, result);\n\n  return result;\n};\n\nexport const adjustPaddingOut = ({\n  pad,\n  multiline,\n  label,\n  scale,\n  height,\n  fontSize,\n  dense,\n  offset,\n  isAndroid,\n}: AdjProps): Padding => {\n  const refFontSize = scale * fontSize;\n  let result = pad;\n\n  if (height) {\n    return {\n      paddingTop: Math.max(0, (height - fontSize) / 2),\n      paddingBottom: Math.max(0, (height - fontSize) / 2),\n    };\n  }\n  if (!isAndroid && multiline) {\n    if (dense) {\n      if (label) {\n        result += scale < 1 ? Math.min(offset, (refFontSize / 2) * scale) : 0;\n      } else {\n        result += 0;\n      }\n    }\n    if (!dense) {\n      if (label) {\n        result +=\n          scale < 1\n            ? Math.min(offset, refFontSize * scale)\n            : Math.min(offset / 2, refFontSize * scale);\n      } else {\n        result += scale < 1 ? Math.min(offset / 2, refFontSize * scale) : 0;\n      }\n    }\n    result = Math.floor(result);\n  }\n  return { paddingTop: result, paddingBottom: result };\n};\n\nexport const adjustPaddingFlat = ({\n  pad,\n  scale,\n  multiline,\n  label,\n  height,\n  offset,\n  dense,\n  fontSize,\n  isAndroid,\n  styles,\n}: AdjProps): Padding => {\n  let result = pad;\n  let topResult = result;\n  let bottomResult = result;\n  const { paddingTop, paddingBottom } = styles;\n  const refFontSize = scale * fontSize;\n\n  if (!multiline) {\n    // do not modify padding if input is not multiline\n    if (label) {\n      // return const style for flat input with label\n      return { paddingTop, paddingBottom };\n    }\n    // return pad for flat input without label\n    return { paddingTop: result, paddingBottom: result };\n  }\n\n  if (label) {\n    // add paddings passed from styles\n    topResult = paddingTop;\n    bottomResult = paddingBottom;\n\n    // adjust top padding for iOS\n    if (!isAndroid) {\n      if (dense) {\n        topResult +=\n          scale < 1\n            ? Math.min(result, refFontSize * scale) - result / 2\n            : Math.min(result, refFontSize * scale) - result / 2;\n      }\n      if (!dense) {\n        topResult +=\n          scale < 1\n            ? Math.min(offset / 2, refFontSize * scale)\n            : Math.min(result, refFontSize * scale) - offset / 2;\n      }\n    }\n    topResult = Math.floor(topResult);\n  } else {\n    if (height) {\n      // center text when height is passed\n      return {\n        paddingTop: Math.max(0, (height - fontSize) / 2),\n        paddingBottom: Math.max(0, (height - fontSize) / 2),\n      };\n    }\n    // adjust paddings for iOS if no label\n    if (!isAndroid) {\n      if (dense) {\n        result +=\n          scale < 1\n            ? Math.min(offset / 2, (fontSize / 2) * scale)\n            : Math.min(offset / 2, scale);\n      }\n      if (!dense) {\n        result +=\n          scale < 1\n            ? Math.min(offset, fontSize * scale)\n            : Math.min(fontSize, (offset / 2) * scale);\n      }\n\n      result = Math.floor(result);\n      topResult = result;\n      bottomResult = result;\n    }\n  }\n\n  return {\n    paddingTop: Math.max(0, topResult),\n    paddingBottom: Math.max(0, bottomResult),\n  };\n};\n\nexport const interpolatePlaceholder = (\n  labeled: Animated.Value,\n  hasActiveOutline: boolean | undefined\n) =>\n  labeled.interpolate({\n    inputRange: [0, 1],\n    outputRange: [hasActiveOutline ? 0 : 1, 1],\n  });\n\nexport function calculateFlatAffixTopPosition({\n  height,\n  paddingTop,\n  paddingBottom,\n  affixHeight,\n}: {\n  height: number;\n  paddingTop: number;\n  paddingBottom: number;\n  affixHeight: number;\n}): number {\n  const inputHeightWithoutPadding = height - paddingTop - paddingBottom;\n\n  const halfOfTheInputHeightDecreasedByAffixHeight =\n    (inputHeightWithoutPadding - affixHeight) / 2;\n\n  return paddingTop + halfOfTheInputHeightDecreasedByAffixHeight;\n}\n\nexport function calculateOutlinedIconAndAffixTopPosition({\n  height,\n  affixHeight,\n  labelYOffset,\n}: {\n  height: number;\n  affixHeight: number;\n  labelYOffset: number;\n}): number {\n  return (height - affixHeight + labelYOffset) / 2;\n}\n\nexport const calculateFlatInputHorizontalPadding = ({\n  adornmentConfig,\n}: {\n  adornmentConfig: AdornmentConfig[];\n}) => {\n  let paddingLeft = LABEL_PADDING_HORIZONTAL;\n  let paddingRight = LABEL_PADDING_HORIZONTAL;\n\n  adornmentConfig.forEach(({ type, side }) => {\n    if (type === AdornmentType.Icon && side === AdornmentSide.Left) {\n      paddingLeft = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n    } else if (side === AdornmentSide.Right) {\n      if (type === AdornmentType.Affix) {\n        paddingRight = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n      } else if (type === AdornmentType.Icon) {\n        paddingRight = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n      }\n    }\n  });\n\n  return { paddingLeft, paddingRight };\n};\n"]}